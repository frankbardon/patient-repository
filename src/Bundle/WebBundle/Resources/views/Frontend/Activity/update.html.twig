{# This file is part of the Accard package. #}

{# (c) University of Pennsylvania #}

{# For the full copyright and license information, please view the LICENSE #}
{# file that was distributed with this source code. #}

{% extends 'AccardWebBundle:Frontend:layout.html.twig' %}

{% from 'AccardWebBundle:Common/Macros:actions.html.twig' import update %}
{% from 'AccardWebBundle:Common/Macros:misc.html.twig' import page_title %}
{% from 'AccardWebBundle:Common/Macros:form.html.twig' import select_patient_js, select_patient_css %}

{% set activity = form.vars.value %}
{% set prototype = activity.prototype is defined ? activity.prototype.name : 'default' %}

{% block content %}
    {% block page_title %}
        {{ page_title('accard.activity.title.update'|trans) }}
    {% endblock %}

    {% block activity_form %}
        {{ form_errors(form) }}

        {% set updatePath = path('accard_frontend_activity_update', { prototype: prototype, id: activity.id }) %}

        <form action="{{ updatePath }}" method="post" {{ form_enctype(form) }}>
            <input type="hidden" name="_method" value="PUT">
            {{ form_widget(form._token) }}
            {% include 'AccardWebBundle:Frontend/Activity:form.html.twig' %}
            <div class="row">
                <div class="col-md-12">
                    <span class="pull-right">{{ update() }}</span>
                </div>
            </div>
        </form>
    {% endblock %}
{% endblock %}

{% block javascripts %}
    {{ parent() }}
    {{ select_patient_js('#accard_activity_patient') }}
{% endblock %}

{% block stylesheets %}
    {{ parent() }}
    {{ select_patient_css() }}
{% endblock %}